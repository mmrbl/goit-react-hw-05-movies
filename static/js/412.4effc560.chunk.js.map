{"version":3,"file":"static/js/412.4effc560.chunk.js","mappings":"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","sources":["pages/MovieDetails.styled.jsx","pages/MovieDetails.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","services/HTTPRequest.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\n\n\nexport const Button = styled(Link)`\n  display: block;\n  max-width: 120px;\n  height: 35px; \n  border: 2px solid black;\n  border-radius: 6px;\n  font-weight: 600;\n  font-size: 24px;\n  margin-bottom: 15px;\n  text-decoration: none;\n  color: black;\n\n  &:hover{\n    cursor: pointer;\n    background-color: orange;\n  }\n`\n\nexport const AboutMovie = styled.div`\ndisplay: flex;\n`\n\nexport const MovieInfo = styled.div`\nmargin-left: 15px;\n`\n\nexport const Container = styled.div`\nmargin: 0 15px;\n`","import { Suspense, useEffect, useRef, useState } from \"react\";\nimport { RotatingSquare } from 'react-loader-spinner';\nimport { Link, Outlet, useLocation, useParams } from \"react-router-dom\";\nimport { fetchByID } from \"services/HTTPRequest\";\nimport defaultImage from \"../services/noimage.png\";\nimport { AboutMovie, Button, Container, MovieInfo } from \"./MovieDetails.styled\";\n\n\n\n\nconst MovieDetails = () => {\n  const location = useLocation()\n  const { movieId } = useParams()\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [data, setData] = useState([]);\n  const backLinkRef = useRef(location.state?.from ?? '/movies')\n\n  console.log(backLinkRef)\n  \n  useEffect(() => {\n    fetchByID(movieId)\n      .then(data => {\n      setData(data);\n    })\n    .catch(error => {\n      setError(error);\n    })\n    .finally(() => setIsLoading(false))\n  }, [movieId]);\n\n  const { name, title, original_title, overview, genres, poster_path, vote_average, success} = data\n\n  if (!data) {\n    return\n  }\n\n  if (isLoading) {\n    return <RotatingSquare color=\"orange\"/>\n  }\n\n  if (success === false) {\n    return (\n      <p>We have no information about this fiml :c</p>\n    )\n  }\n\n  if (error) {\n    console.log(error)\n  }\n\n\n  return (\n    <Container>\n      <Button to={backLinkRef.current}> &#8592; Go back</Button>\n\n      <AboutMovie style={{ display: 'flex'}}>\n        <img width='300' src={poster_path ? 'https://image.tmdb.org/t/p/w300' + poster_path : defaultImage} alt={name || title || original_title} />\n        <MovieInfo>\n          <h1>{name ?? title ?? original_title}</h1>\n\n           { vote_average && vote_average !== 0 ?\n            <p>User Score: {(vote_average * 10).toFixed(2)}%</p> : <p>Users have not rated this movie</p>}\n          <h2>Overview</h2>\n          <p>{overview}</p>\n          <h2>Genres</h2>\n          <ul>\n          {genres ? \n            genres.map((genre) => {\n              const {id, name} = genre\n              return (\n                <li key={id}>{name}</li>\n              )\n            }) : <span>Unavaliable</span>\n          }\n          </ul>\n        </MovieInfo>\n        \n      </AboutMovie>\n      <h3>Additional information</h3>\n      <ul style={{listStyle: 'none'}}>\n        <li><Link to='cast'>Cast</Link></li>\n        <li><Link to='reviews'>Reviews</Link></li>\n      </ul>\n        <Suspense fallback={<div>LOADING...</div>}>\n          <Outlet />\n        </Suspense>\n    </Container>\n  )\n}\n\nexport default MovieDetails\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzAyMjMxNGZlNmNmMjVlZmYyOTBkZDkxYjUxOTAzZiIsInN1YiI6IjY0NmZhMDQyYzVhZGE1MDBkZWU2Njc4MyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.uIxfSgTwNgRYS5UWjwvghZ01EYEFs3x2JVSyeT6FUHE',\n  },\n};\n\nasync function fetchData(url) {\n  try {\n    const response = await fetch(url, options);\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    throw new Error(err);\n  }\n}\n\nexport async function fetchTrending() {\n  const URL = 'https://api.themoviedb.org/3/trending/all/day?language=en-US';\n  return fetchData(URL);\n}\n\nexport async function fetchByQuery(query) {\n  const URL = `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`;\n  return fetchData(URL);\n}\n\nexport async function fetchByID(id) {\n  const URL = `https://api.themoviedb.org/3/movie/${id}?language=en-US`;\n  return fetchData(URL);\n}\n\nexport async function fetchReviews(id) {\n  const URL = `https://api.themoviedb.org/3/movie/${id}/reviews?language=en-US&page=1`;\n  return fetchData(URL);\n}\n\nexport async function fetchCasts(id) {\n  const URL = `https://api.themoviedb.org/3/movie/${id}/credits?language=en-US`;\n  return fetchData(URL);\n}\n"],"names":["Button","styled","Link","AboutMovie","MovieInfo","Container","location","useLocation","movieId","useParams","useState","isLoading","setIsLoading","error","setError","data","setData","backLinkRef","useRef","state","from","console","log","useEffect","fetchByID","then","catch","finally","name","title","original_title","overview","genres","poster_path","vote_average","success","color","to","current","style","display","width","src","defaultImage","alt","toFixed","map","genre","id","listStyle","Suspense","fallback","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","options","method","headers","accept","Authorization","fetchData","url","fetch","response","json","Error","fetchTrending","fetchByQuery","query","URL","fetchReviews","fetchCasts"],"sourceRoot":""}